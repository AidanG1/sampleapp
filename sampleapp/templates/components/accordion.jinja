{% set content1 %}
Lorem ipsum dolor sit amet consectetur adipisicing elit. In magnam quod natus deleniti architecto eaque consequuntur ex, illo neque iste repellendus modi, quasi ipsa commodi saepe? Provident ipsa nulla earum.
{% endset %}
{% macro accordion(panels=[{'title': 'Question #1', 'content': content1}, {'title': 'Question #2', 'content': 'Bla blaa blaaa'}, {'title': 'Question #3', 'content': "Mom's Spaghetti"}], color='primary', borders=True, color_borders=False) %}
    <div class="max-w-3xl mx-auto">
        {% for panel in panels %}
            {# djlint:off #}
            <div x-data="{ expanded: false }" {% if borders %} class="bg-white {% if loop.index0 == 0 %}rounded-t-lg{% elif loop.index == panels|length %}rounded-b-lg border-b{% endif %} border-t border-l border-r {% if color_borders %}border-{{ color }}{% endif %}">
            {% else %}
                class="bg-white border-b {% if color_borders %}border-{{ color }}{% endif %}">
{% endif %}{# djlint:on #}
<h2 class="mb-0">
<button x-on:click="expanded = !expanded" :aria-expanded="expanded" class="flex items-center justify-between w-full text-lg px-6 py-4 {% if color_borders %}border-{{ color }}{% endif %}" :class="expanded ? 'border-b' : ''">
<span :class="expanded ? 'font-bold text-{{ color }}' : ''">{{ panel.title }}</span>
<svg version="1.1" class="h-5 w-5 text-gray-400 transition" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 330 330" style="enable-background:new 0 0 330 330;" xml:space="preserve" fill="currentColor" :class="expanded ? 'rotate-180' : 'rotate-0'">
<path id="XMLID_225_" d="M325.607,79.393c-5.857-5.857-15.355-5.858-21.213,0.001l-139.39,139.393L25.607,79.393 c-5.857-5.857-15.355-5.858-21.213,0.001c-5.858,5.858-5.858,15.355,0,21.213l150.004,150c2.813,2.813,6.628,4.393,10.606,4.393 s7.794-1.581,10.606-4.394l149.996-150C331.465,94.749,331.465,85.251,325.607,79.393z"/>
</svg>
</button>
</h2>
<div x-show="expanded" x-collapse>
<div class="py-2 px-6">{{ panel.content }}</div>
</div>
</div>
{% endfor %}
</div>
{% endmacro %}
